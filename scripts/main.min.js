const currentLocationWeather=document.querySelector(".btn-current-weather"),currentDateTime=document.querySelector("#date"),weatherDetails=document.querySelector(".weatherDetails"),weatherTemp=weatherDetails.querySelector("#temp"),weatherTempMinMax=weatherDetails.querySelector("#tempMinMax"),weatherDescription=weatherDetails.querySelector("#description"),weatherLocation=document.querySelector("#location");function geoFindMe(){const e=document.getElementById("out");function t(e){return e<10&&(e="0"+e),e}navigator.geolocation?(e.innerHTML="<p>Locating…</p>",navigator.geolocation.getCurrentPosition(function(n){let o=n.coords.latitude,r=n.coords.longitude;e.innerHTML="<p>Latitude is "+o+"° <br>Longitude is "+r+"°</p>";const a="http://api.openweathermap.org/data/2.5/weather?lat="+o+"&lon="+r+"&units=metric&APPID=d90a44dbf472319541d6a7489eeb5f79";console.log(a),fetch(a).then(e=>e.json()).then(e=>{(function(e){console.log(e);let t=e.name,n=Math.round(e.main.temp),o=e.main.temp_max,r=e.main.temp_min;e.weather.forEach(function(e){weatherDescription.innerHTML=e.description}),weatherLocation.innerHTML=t,weatherTemp.innerHTML=n+"°",weatherTempMinMax.innerHTML=o+"° / "+r+"°"})(e),function(){const e=new Date,n=["january","february","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],o=e.getDay(),r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e.getDay()],a=t(e.getHours()),i=t(e.getMinutes());currentDateTime.innerHTML=r+" "+o+" "+n+" "+a+":"+i}()}).catch(function(e){console.log(e)})},function(){e.innerHTML="Unable to retrieve your location"})):e.innerHTML="<p>Geolocation is not supported by your browser</p>"}currentLocationWeather.addEventListener("click",geoFindMe);