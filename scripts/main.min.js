const currentLocationWeather=document.querySelector(".btn-current-weather"),currentDateTime=document.querySelector("#date"),weatherDetails=document.querySelector(".weatherDetails"),weatherTemp=weatherDetails.querySelector("#temp"),weatherTempMinMax=weatherDetails.querySelector("#tempMinMax"),weatherDescription=weatherDetails.querySelector("#description"),weatherLocation=document.querySelector("#location");function geoFindMe(){const e=document.getElementById("out");navigator.geolocation?(e.innerHTML="<p>Locating…</p>",navigator.geolocation.getCurrentPosition(function(t){let n=t.coords.latitude,o=t.coords.longitude;e.innerHTML="<p>Latitude is "+n+"° <br>Longitude is "+o+"°</p>";const r="http://api.openweathermap.org/data/2.5/weather?lat="+n+"&lon="+o+"&units=metric&APPID=d90a44dbf472319541d6a7489eeb5f79";console.log(r),fetch(r).then(e=>e.json()).then(e=>{!function(e){console.log(e);let t=e.name,n=Math.round(e.main.temp),o=e.main.temp_max,r=e.main.temp_min;e.weather.forEach(function(e){weatherDescription.innerHTML=e.description}),weatherLocation.innerHTML=t,weatherTemp.innerHTML=n+"°",weatherTempMinMax.innerHTML=o+"° / "+r+"°"}(e)}).catch(function(e){console.log(e)})},function(){e.innerHTML="Unable to retrieve your location"}),function(){const e=new Date;currentDateTime.innerHTML=e}()):e.innerHTML="<p>Geolocation is not supported by your browser</p>"}currentLocationWeather.addEventListener("click",geoFindMe);